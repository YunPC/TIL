# 데이터 타입

자바스크립트의 모든 값은 데이터 타입을 갖는다.

데이터 타입은 원시 타입과 객체 타입으로 구분할 수 있다.

- 원시 타입
    + 숫자 타입: 소수점 유무에 상관없이 하나의 숫자 타입만 존재
    + 문자열 타입: 문자열
    + 불리언 타입: 참과 거짓
    + undefined 타입: var 키워드로 선언된 변수에 암묵적으로 할당되는 값
    + null 타입: 아무것도 없다를 나타내는 값
    + 심벌 타입: ES6에서 추가된 7번째 타입

- 객체 타입 : 객체, 함수 배열

눈으로 보기에 같은 값을 나타내는 것이라도 데이터 타입에 따라 컴퓨터에 저장되는 이진수 표현도 다르다. 이 뿐만 아니라 사용할 수 있는 연산도 달라진다. 따라서 사용하고자 하는 의도에 따라 데이터 타입을 정확히 정의하는 것이 중요하다.

1. 숫자 타입

자바스크립트는 모든 숫자타입을 64비트 부동소수점 형식의 2진수로 저장한다. 따라서 변수를 여러 진수로 표현해도 참조할 땐 10진수로 해석한다.

숫자타입에서 특별히 양의 무한대(Infinity), 음의 무한대 산술(-Infinity) 연산 불가(NaN)가 있다. 

2. 문자열 타입

문자열 타입은 텍스트 메시지를 표현하기 위한 데이터 타입이며, 나타내고자하는 값을 작은 따옴표나 큰 따옴표로 또는 백틱(ES6) 묶어서 표현한다. 주로 쓰는 것은 작은 따옴표이다.

자바스크립트에서 문자열은 다른 언어와는 다르게 변경할 수 없는 값이다. 문자열이 객체가 아닌 원시 타입으로 간주된다.

3. 템플릿 리터럴

템플릿 리터럴은 벡틱을 통해 나타낸다. 멀티라인 문자열(multi-line string), 표현식 삽입(expression interpolation), 태그드 템플릿(tagged template)을 지원한다. 런타임에 일반 문자열로 해석된다.

- 멀티라인 문자열

템플릿 리터럴에선 이스케이프 문자 없이 모든 공백과 줄바꿈을 포함할 수 있다.

일반적인 문자열 경우, 백슬래시 `\`로 시작하는 이스케이프 문자를 포함해야 한다. 

>라인 피드와 캐리지 리턴
    개행하는 방법에는 라인 피드(LF, Line Feed)와 캐리지 리턴(CR, Carriage Return) 두가지가 있다. 라인 피드는 커서를 유지하면서 종이를 한 줄 올리는 것이고, 캐리지 리턴은 종이를 움직이지 않고 커서를 맨 앞줄로 이동하는 것이다.

    운영체제마다 사용하는 개행 방법이 다르기 때문에 텍스트 파일에 호환성 문제가 있지만, 이는 텍스트 에디터 단에서 처리하기 때문에 큰 염려가 없다. 자바스크립트에선 대부분 라인 피드를 통해 개행한다.

- 표현식 삽입

문자열에서 `+` 연산자를 사용하면 두 문자열을 이어 붙일 수 있다. 

템플릿 리터럴에서는 표현식 삽입(expression interpolation)을 통해 간단히 문자열을 삽입할 수 있다.

표현식을 사용하려면 `${}`으로 표현식을 감싼다. 표현식에서 평가된 값이 문자열이 아니더라도 문자열로 형변환을 해준다. 표현식 삽입은 리터럴 문자열에서만 적용됨에 유의하자.

4. 불리언 타입

불리언 타입은 참과 거짓 두 가지 값만을 가질 수 있으며, 주로 조건문을 통한 흐름제어를 할 때 조건으로 활용된다.

5. undefined 타입

undefined 타입의 값은 undefined로 유일하다. 자바스크립트에서는 var로 선언한 변수에 메모리 공간을 이전의 상태로 두는 것이 아니라 undefined라는 값으로 초기화한다. 

undefined의 경우 엔진에서 부여하는 값이기 때문에 개발자가 이를 주면 자칫 혼란스러울 수 있다. 따라서 이때는 undefined가 아닌 null을 부여한다.

> 선언(declaration)과 정의(definition)
    선언은 컴파일러에게 어떠한 식별자가 있다는 것을 알리는 것이고, 정의는 메모리 주소와 식별자가 매핑되는 것을 의미한다.
    자바스크립트에서는 내부적으로 이 두가지가 동시에 일어나기 때문에 선언과 정의를 구분하는데엔 모호한 면이 있다.

6. null 타입

null 타입은 의도적으로 변수가 어떠한 값도 참조하지 않는 것을 가리킨다. 이를 선언하면 가비지 콜렉션을 수행할 때 메모리 해제가 이루어진다.

함수가 유효한 값을 반환할 수 없는 경우 null을 반환할 때가 있지만 undefined가 더 적절하다는 의견도 있다.

7. symbol 타입

고유한 값을 나타낼 때 사용한다. 다른 원시 타입은 리터럴을 통해 선언하지만 심볼 타입의 경우 `Symbol`함수를 통해 선언한다.

9. 데이터 타입의 필요성

- 데이터 타입에 의한 메모리 공간의 확보와 참조

자바스크립트에선 데이터 타입에 따라 메모리 확보 공간이 다르다. 일례로 숫자의 경우 어떤 경우에도 64비트를 차지한다.

>문자열과 숫자를 제외한 타입의 메모리 공간은 엔진 제조사마다 다를 수 있다. 

데이터 타입을 통해 엔진은 할당해야 할 메모리 크기와 읽어들일 크기를 알 수 있다.

> 컴파일러나 인터프리터는 심볼 테이블이라는 자료 구조를 통해 바인딩 값의 메모리 주소, 타입, 스코프를 관리할 수 있다.

- 데이터 타입에 의한 값의 해석

값을 2진수로 저장하기 때문에 같은 이진수라도 문자나 숫자를 동시에 나타낼 수 있다. 따라서 값을 해석하는 방식으로 데이터 타입이 필요하다.

10. 동적 타이핑

- 동적 타입 언어와 정적 타입 언어

정적 타입은 변수 선언 시 미리 변수의 데이터 타입을 지정한다. 컴파일러는 컴파일시 타입 체크를 하고 적절한 할당이 이루어지지 않을 시 에러를 발생시킨다.

자바스크립트는 변수 선언 시 타입을 함께 지정하지 않는다. 변수를 선언할 때 사용하는 키워드 var, let, const를 보면 알 수 있다.

자바스크립트에서 변수에 할당된 값의 데이터 타입을 알기 위해서는 typeof연산자를 활용하면 된다. 

자바스크립트는 할당된 변수에 따라 타입이 결정되고 이 과정을 타입 추론이라한다. 첫 할당 말고 재할당을 통해서도 재할당을 함으로써 데이터 타입값을 새로 정의할 수 있다. 이런 특징을 동적 타이핑이라 하고, 정적 타입과 구분을 하기 위해 동적 타입이라 불린다.

변수는 타입을 갖는게 아니다. 값이 타입을 갖는 것이다.

- 동적 타입 언어와 변수

동적 타입은 데이터 타입을 따로 명시하지 않기 때문에 편리해보이지만 구조적인 단점이 존재한다. 

코드 양이 많이지고 변수에 재할당이 빈번하게 발생하면 이에 대한 추적을 하기가 힘든 부분이 있다. 또한 자바스크립트 엔진에 의해서도 변할 수 있기 때문에 주의가 필요하다.

- 변수는 최소한으로 사용하자
- 최소한의 스코프를 가지도록 하자
- 전역 변수의 사용을 자제하자
- 변수보다는 상수를 사용하자
- 변수는 의미를 담아 네이밍하자

