# 7번째 데이터 타입 Symbol

## 심벌이란?

ES6에서 도입된 7번째 데이터 타입으로 원시값이다. 다른 값과 중복되지 않는 유일무이한 값이다. 주로 프로퍼티 키를 만들기 위해 사용한다.

## 심벌 값의 생성

### Symbol 함수

심볼은 심볼 함수를 호출하여 생성한다. 생성된 심벌 값은 확인할 수 없다. 심볼 함수는 new와 함께 생성할 수 없다.

심볼 함수에는 선택적으로 문자열을 줄 수 있지만 이는 심볼 값에 대한 설명과 디버깅 용도로 사용한다. 즉 심볼값에 영향을 미치지 않는다. 

심벌 값도 객체처럼 접근하면 래퍼 객체가 생성된다. 암묵적으로 문자열이나 숫자값으로는 변하지 않는다. 하지만 존재 유무에따라 불리언 타입으로 암묵적으로 타입 변환이 일어날 수 있다.

### Symbol.for / Symbol.keyFor 메서드

Symbol.for는 인수로 문자열을 받는다. 이를 키값으로 하여 전역 심벌 레지스트리에서 해당 키와 일치하는 심벌 값을 검색한다. 만약 심볼을 찾을 수 없으면 새로운  심볼을 생성한다.

Symbol.keyFor 메서드를 사용하면 전역 심벌 레지스트리에서 심벌 값의 키를 추출할 수 있다.

## 심벌과 상수

변경/중복될 가능성이 있는 무의미한 상수를 심볼값으로 사용하면 의미를 부여할 수 있다.

> enum 
    명명된 숫자 상수의 집합으로 열거형이라고 부른다. 자바스크립트에서 지원하진 않지만 Object.freeze메서드와 심벌 값을 사용해서 비슷하게 구현할 수 있다.

## 심벌과 프로퍼티 키

심벌값을 프로퍼티 키로 사용하려면 심벌 값에 대괄호를 묶어주면 된다. 심벌 값으로 프로퍼티 키를 만들면 다른 프로퍼티 키와 충돌하지 않는다.

## 심벌과 프로퍼티 은닉

심벌을 프로퍼티 키로 사용할 경우 프로퍼티 키가 외부에 노출되지 않는다. 즉, for...in문이나 Object메서드를 통해 열거되지 않는다.

하지만 Object.getOwnPropertySymbols메서드를 사용해서 심벌값의 유무를 알 수 있다.

## 심벌과 표준 빌트인 객체 확장

표준 빌트인 객체에 사용자 정의 메서드를 직접 추가하는 것은 바람직하지 않다. 왜냐면 추후에 추가될 표준 메서드와 이름이 동일한 경우 사용자 정의 메서드가 이를 덮어쓸 수 있기 때문이다.

하지만 빌트인 객체를 확장할 때 심벌을 사용하면 충돌 위험없이 확장이 가능하다.

## Well-known Symbol

자바스크립트는 빌트인 심벌 값을 제공한다. 이 값은 심벌 함수의 프로퍼티에 할당되어 있다. 이 값들을 ECMAScript에선 Well-Known Symbol이라 부른다. 

내부 알고리즘에서 이 값들은 유용하게 사용되는데 그 예로 이터러블은 Symbol.iterator를 키로 갖는다. ECMAScript는 이 키를 통해 이터레이터를 반환하도록 규정한다. 이 규정을 이터레이션 프로토콜이라 한다.

만약 어떤 객체를 이터러블로 만들기 위해선 이터러블 프로토콜을 준수하면 된다. 즉 Symbol.iterator가 키값인 메서드를 생성한다. 

이 값은 앞으로 추가될 프로퍼티 키와 중복되지 않기 때문에 새로운 프로퍼티와 충돌하지 않는다. 따라서 하위 호환성을 보장할 수 있다.


