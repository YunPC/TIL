# let, const와 블록 레벨 스코프

1. var 키워드로 선언한 변수의 문제점

- 변수 중복 선언 허용

var 키워드로 선언한 변수는 중복 선언이 가능하다.

중복 선언 시 초기화문이 있으면 재할당이 되고 그렇지 않으면 무시된다.

- 함수 레벨 스코프

var 키워드는 함수 레벨 스코프를 가진다. 따라서 코드 블록 내에서 선언해도 전역 변수이다. 이러한 특성 때문에 수많은 전역 변수를 선언할 가능성이 있다.

- 변수 호이스팅

var 키워드로 변수 선언 시 런타임 이전에 선언이 일어나고 undefined로 초기화된다. 따라서 선언문보다 위에 변수를 참조할 수 있다. 하지만 이는 가독성을 떨어뜨리므로 권장되지 않는다.

2. let 키워드

- 변수 중복 선언 금지

let은 변수를 중복하여 선언할 수 없다.

- 블록 레벨 스코프

- 변수 호이스팅

let 키워드로 선언한 변수는 선언과 초기화 단계가 분리되어 있다. 런타임 이전에는 선언만 하며 초기화 단계는 런타임에 실행된다. 이때 런타임 이전에는 변수를 참조할 수 없다. let 변수를 참조할 수 없는 구간을 일시적 사각지대라고 부른다.

- 전역 객체와 let

let 전역 변수는 전역 객체의 프로퍼티로 추기되지 않고 개념적인 블록내에 존재한다.

3. const 키워드

const는 주로 상수를 선언하기 위해 사용한다.

- 선언과 초기화

const는 반드시 선언과 초기화가 동시에 이루어져야 한다. const도 let과 같이 블록 레벨 스코프를 가진다.

- 재할당 금지

var 또는 let키워드로 선언한 변수는 재할당이 자유로우나 const키워드로 선언한 변수는 재할당이 불가하다.

- 상수

상수는 재할당이 금지되기 때문에 코드의 신뢰성과 가독성을 높일 수 있다. 네이밍 규칙으론 스네이크 규칙을 주로 사용한다.

- const 키워드와 객체

const에 객체가 할당된 경우 값을 변경할 수 있는데 객체는 재할당을 통하지 않더라도 값을 변경할 수 있기 때문이다.

따라서 const는 재할당이 금지 될 뿐 불변이 아니다.

4. var vs let vs const

변수 선언의 기본은 const를 사용하고 재할당이 필요할 경우에 let을 한정해 사용하는 것이 좋다.