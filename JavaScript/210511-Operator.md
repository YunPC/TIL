# 연산자

연산자는 하나 이상의 표현식을 논리, 산술, 비교 등을 해주는 역할을 한다. 이 때 연산의 대상을 피연산자라고 하며 피연산자는 표현식이므로 하나의 값을 나타낸다. 따라서 이들의 연산인 연산자 표현식도 값으로 평가될 수 있다.

1. 산술 연산자

산술 연산자는 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다. 산술이 불가능한 경우 NaN을 반환한다.

산술 연산자는 피 연산자의 개수에 따라 이항, 단항으로 나뉜다.

- 이항 산술 연산자

이항 산술 연산자는 피연산자의 변경없이 2개 이상의 피연산자를 산술하여 새로운 값을 만들어내는 것을 말한다.

- 단항 산술 연산자

단항 산술 연산자는 피연산자의 변경을 초래할 수 있으며, 하나의 피연산자 값을 산술한다.

이러한 변경의 대표적인 예로 증가와 감소(++/--)연산이 있다. 변수의 앞에 오면 다른 연산에 앞서 수행하고, 변수의 뒤에 오면 다른 연산을 모두 마친 뒤에 수행한다.

모든 단항 산술 연산자가 부수 효과를 가지고 있는 것은 아니다. -단항 연산자의 경우 참조하는 값의 부호를 반전하여 '생성'하여 반환하기 때문에 값을 변경하지 않는다.

- 문자열 연결 연산자

`+` 연산자의 피연산자 중 문자열이 포함되어 있으면 문자열을 연결하는 연산자로 동작하고 이외에는 산수 연산자로 작동한다. 이 때 다른 데이터 값이 끼어있는 경우 연산 가능한 데이터 타입으로 강제 형변환을 한다.

이를 암묵적 타입 변환(implicit coercion)또는 타입 강제 변환(type coercion)이라 한다.

2. 할당 연산자

할당 연산자는 우항에서 생성된 값을 좌항에 할당하는 역할을 한다. 변수에 재할당을 하기 때문에 부수 효과가 있다.

할당문은 좌변에 값을 할당할 수 있기 때문에 값을 평가할 수 있다. 따라서 표현식이다.

할당은 연쇄적으로 할 수 있다.

3. 비교 연산자

비교 연산자는 좌항과 우항의 피연산자를 비교한 값을 반환한다. 반환값은 참 또는 거짓이다. 주로 반복이나 제어문의 조건으로 활용된다.

- 동등 / 일치 비교 연산자

동등 비교(loose equality)연산자와 일치 비교(strict equality)연산자는 좌항과 우항의 피연산자가 같은 값인지 보고 불리언 값을 반환한다. 동등과 일치 비교는 좌항과 우항의 타입까지 고려하는지의 유무가 차이점이다.

동등 비교는 좌항과 우항의 타입이 다른 경우 타입을 통일하여 비교한다. 이 때, 어떻게 타입을 통일할지에 대해 예측하기 어렵다. 따라서 동등 비교보다는 타입까지 고려하는 일치 비교 사용을 장려한다. 

하지만 NaN을 주의하여야 한다. NaN은 자신과 일치하는 값이 아니기 때문이다. 따라서 어떠한 값이 NaN인지 확인하기 위해선 isNaN함수를 사용한다.

숫자 0도 양의 0과 음의 0을 같다고 판단한다.

부동등 비교 연산자와 불일치 비교 연산자는 동등 비교와 일치 비교 연산자의 반대 개념이다.

- 대소 관계 비교 연산자

대소 관계 비교 연산자는 피연산자의 크기를 비교하여 불리언 값을 반환한다. 부수 효과는 없다.

4. 삼항 조건 연산자

삼항 조건 연산자는 어떠한 조건문의 결과에 따라 반환값이 다르다. 자바스크립트의 유일한 삼항 연산자이며 부수 효과는 없다.

삼항 연산자는 대입 연산자의 우항에 물음표와 콜론을 추가하는데 물음표의 앞쪽에는 조건문을 입력한다. 콜론의 앞은 참일 때의 값 뒤일 때는 거짓일 때 반환값을 적는다.

if...else문으로 삼항 조건 연산자와 유사한 코드를 짤 수 있지만 삼항 연산자는 표현식인 반면에 if...else문은 그렇지 않다.

따라서 조건에 따른 값 결정인 경우 삼항 조건, 조건이 여러 개인 경우에는 if...else문이 더 좋다.

5. 논리 연산자

논리 연산자는 좌항과 우항(단항인 경우 우항만)의 논리 연산을 담당한다. 부수 효과는 없다.

부정 연산자는 무조건 불리언 값으로 반환되는 반면에 논리합(||)이나 논리곱(&&)의 경우에는 두 피연산자 중 하나를 선택하여 반환한다.

6. 쉼표 연산자

쉼표 연산자는 왼쪽 피연산자부터 차례대로 피연산자를 평가하고, 모든 평가가 끝나면 가장 마지막 피연산자의 값을 반환한다.

7. 그룹 연산자

소괄호를 통해 피연산자가 연산되는 순서를 지정할 수 있다. 그룹 연산자는 연산자 우선순위가 가장 높다.

8. typeof 연산자

typeof 연산자는 값의 데이터 타입을 문자열로 반환한다. `null`을 반환하는 경우는 없으며 함수의 경우 `function`을 반환한다. 따라서 데이터 타입이 완전히 일치한다고 볼 순 없다.

가령 null의 데이터 타입은 object로 반환하는데 이는 초기 자바스크립트의 버그이지만 하위 호환성을 위해 수정되지 못하고 있다.

따라서 typeof로 null값을 비교하기보단 일치 연산자를 사용하는 것이 바람직하다. 또 하나의 예외로는 선언되지 않은 식별자를 typeof로 연산하면 undefined를 반환한다.

9. 지수 연산자

ES7에 지수 연산자를 도입하였다. 우힝의 피연산자를 지수로 거듭 제곱하여 숫자 값을 반환한다. 참고로 지수 연산자 이전에는 Math.pow 메서드를 사용했다.

음수를 거듭제곱의 밑으로 쓰려면 괄호로 묶어야 한다. 그리고 지수 연산자는 다른 산술 연산자와 마찬가지로 할당 연산자와 함께 사용할 수 있다. 여러 연산과 섞여있을 경우에는 괄호를 제외하고 우선순위가 가장 높다.

11. 연산자의 부수 효과

연산자 중에는 다른 코드에 영향을 주는 연산자가 있다. 이것을 연산자가 부수 효과를 가지고 있다라고 표현한다.

12. 연산자 우선순위

여러 개의 연산자가 존재할 때 연산자가 실행되는 순서이다. 일일이 기억하기 보단 그룹 연산자를 통해 명시하는 것이 좋다.

13. 연산자 결합 순서

연산자 결합 순서란 연산자의 평가 흐름(좌향 또는 우향)이다. 