# Set과 Map

## 1. Set

Set 객체는 중복되지 않는 유일한 값들의 집합이다. 배열과의 차이점은 다음과 같다.

|구분|배열|Set 객체|
|--|:--:|:--:|
|동일한 값을 중복하여 포함할 수 있다.|O|X|
|요소 순서에 의미가 있다.|O|X|
|인덱스로 요소에 접근할 수 있다.|O|X|

자바스크립트에서의 Set은 수학적 의미의 집합과 동일하기 때문에 교집합,차집합,여집합,합집합 등을 구할 수 있다.

### 1.1 Set 객체의 생성

Set 객체는 Set 생성자 함수로 생성된다. 인자를 전달하지 않는 경우 빈 Set이 생성된다.

인자로는 이터러블을 받으며, 이때 이터러블 안에 중복된 요소는 무시된다.

### 1.2 요소 개수 확인

Set 객체의 요소 개수를 확인하고 싶을 땐 Set.prototype.size 프로퍼티를 이용한다.

size 프로퍼티는 getter만 존재하는 접근자 프로퍼티이다. 이 값은 임의로 변경할 수 없다. 이 프로퍼티에 값을 할당하면 무시된다.

### 1.3 요소 추가

Set 객체에 요소를 추가할 때는 Set.prototype.add 메서드를 사용한다. 

add 메서드는 요소를 추가한 새로운 Set을 반환한다. 따라서 메서드 체이닝이 가능하다. 중복된 요소가 추가되었을 경우 무시된다. 

NaN도 중복을 잡아내며 +0, -0도 같은 값으로 판단한다.

Set은 모든 값을 요소로 받을 수 있다.

### 1.4 요소 존재 여부 확인

Set.prototype.has 메서드를 통해 요소 존재 여부를 확인할 수 있다. 결과값으로 불리언 값을 반환한다.

### 1.5 요소 삭제

Set.prototype.delete 메서드를 사용한다. delete 메서드는 삭제 성공 여부를 나타내는 불리언 값을 반환한다.

인자로는 삭제하려는 요소 값을 전달한다. 존재하지 않는 요소를 삭제하려 하면 무시한다. 요소 삭제는 불리언 값을 반환하기 때문에 add와 달리 연속적으로 호출할 수 없다.

### 1.6 요소 일괄 삭제

모든 요소를 삭제 할 땐 Set.prototype.clear 메서드를 사용한다. 반환값은 언제나 undefined이다.

### 1.7 요소 순회

Set 요소 순회는 Set.prototype.forEach로 가능하다. 두 가지 인자를 가지는데 첫 번째는 콜백 함수를 갖고 두 번째는 forEach 메서드에서 사용될 this를 받는다.

콜백 함수는 세가지 인자를 받는다. 첫번째와 두번째는 순회 중인 요소값, 세번째로는 순회중인 Set 객체 자체이다. 첫 번째와 두 번째 인자가 같은 값을 갖게 한 이유는 배열의 forEach메서드와 통일성있게 하기 위함이다.

즉, 배열의 forEach문의 콜백함수의 두번째 인자는 인덱스이지만 Set에는 인덱스가 없기 때문에 이러한 결과가 나온것이다.

Set 객체는 이터러블이다. 따라서 for...of문으로 순회할 수 있으며, 스프레드 문법과 배열 디스트럭처링 할당의 대상이 될 수 있다.

ECMAScript 사양에서 순회 순서를 지정하진 않았지만, 통일성을 위해 요소가 추가된 순서로 순회한다.

### 1.8 집합 연산

Set은 다양한 집합 연산이 가능하다.

#### 1.8.1 교집합

교집합은 집합A와 집합 B의 공통 요소로 구성한다.

#### 1.8.2 합집합

합집합은 집합 A와 집합 B의 중복 없는 모든 요소로 구성한다.

#### 1.8.3 차집합

차집합 A-B는 A집합에서 B집합에 속한 요소를 뺀 집합이다.

#### 1.8.4 부분 집합과 상위 집합

집합 A가 집합 B에 포함되는 경우 집합 A는 집합 B의 부분 집합이며, 집합 B는 집합 A의 상위 집합이다.

## 2. Map

Map은 키와 값의 쌍으로 이루어진 컬렉션이다. 객체와의 차이는 다음과 같다.

|구분|객체|Map 객체|
|--|--|--|
|키로 사용할 수 있는 값|문자열 또는 심벌 값|객체를 포함한 모든 값|
|이터러블|X|O|
|요소 개수 확인|Object.keys(obf).length|map.size|

### 2.1 Map 객체의 생성

Map 객체는 Map 생성자 함수로 생성한다. 인수를 전달하지 않으면 빈 Map을 반환한다.

Map 생성자 함수는 이터러블을 인자로 받는다. 이터러블은 키와 쌍으로 이루어진 요소로 구성되어야 한다. 

Map에는 중복된 키 값이 존재할 수 없으며 중복된 키가 들어온 경우 나중에 들어온 값으로 갱신된다.

### 2.2 요소 개수 확인

Map 객체의 요소 개수를 확인할 때는 Map.prototype.size 프로퍼티를 사용한다.

getter 함수만 존재하는 접근자 프로퍼티이며, size 프로퍼티에 숫자를 할당하여 Map 객체의 요소 개수를 변경할 수 없다.

### 2.3 요소 추가

Map 객체에 요소를 추가할 때는 Map.prototype.set을 사용한다.

set메서드는 새로운 Map 객체를 반환하기 때문에 메서드 체이닝이 가능하다. 이때 추가할 때 NaN을 하나로 보고 +0, -0도 하나의 값으로 취급한다.

### 2.4 요소 취득

Map.prototype.get 메서드를 사용한다. get 메서드의 인수로 키를 전달하면 값이 있을 경우 값을, 없는 경우 undefined를 반환한다.

### 2.5 요소 존재 여부 확인

Map 객체에 특정 요소 존재 여부를 확인하기 위해선 Map.prototype.has 메서드를 사용한다. 성공 여부는 불리언 값을 반환한다.

### 2.6 요소 삭제

Map 객체의 요소를 삭제하려면 Map.prototype.delete 메서드를 사용한다. 삭제 성공 여부를 불리언 값으로 알려준다. 이 때문에 메서드 체이닝이 불가능하다. 존재하지 않는 키로 삭제하려고 하는 경우 에러없이 무시된다.

### 2.7 요소 일괄 삭제

Map 객체의 요소들을 일괄 삭제 하는 경우 Map.prototype.clear를 사용할 수 있다. 이 메서드는 언제나 undefined를 반환한다.

### 2.8 요소 순회

Map 객체의 요소를 순회하려면 forEach 메서드를 사용한다. 콜백 함수와 forEach 메서드에서 사용할 this를 인자로 받는다.

콜백 함수는 3가지 인수를 받는다. 첫 번째 인수는 순회 중인 요소값, 두 번째 인수로는 현재 순회 중인 요소키, 세 번째 인수로는 현재 순회 중인 Map 객체 자체를 받는다.

Map 객체는 이터러블이다. 따라서 스프레드 문법, for...of, 배열 디스트럭처링 할당의 대상이 될 수 있다.

Map 객체는 이터러블이면서 이터레이터인 객체를 반환하는 메서드를 제공한다.

|Map 메서드|설명|
|Map.prototype.keys|Map 객체에서 요소키를 값으로 갖는 이터러블이면서 동시에 이터레이터인 객체를 반환한다.|
|Map.prototype.values|Map 객체에서 요소값을 값으로 갖는 이터러블이면서 동시에 이터레이터인 객체를 반환한다.|
|Map.prototype.entries|Map 객체에서 요소키와 요소값을 값으로 갖는 이터러블이면서 동시에 이터레이터인 객체를 반환한다.|

ECMAScript 사양에 규정되어 있진 않지만, Map객체를 순회하는 요소는 자료가 추가된 순서로 구성된다.


