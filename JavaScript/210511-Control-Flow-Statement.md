# 제어문

일반적인 제어문은 위쪽에서 아래쪽으로 순차적으로 실행(또는 반복실행)한다. 이 흐름을 제어 하기 위해 사용하는 것이 제어문이다. 

하지만 코드의 흐름을 바꾸어 버리면 가독성에 혼란을 줄 수 있기 때문에 유의해야한다. 따라서 고차함수(forEach, map, filter, reduce)를 활용하여 혼선을 방지하고자 한다. 이는 함수형 프로그래밍이기 때문에 가능하다.

1. 블록문

블록문(block statement / compound statement)은 0개 이상의 문을 중괄호로 묶은 것을 말한다. 자바스크립트는 하나의 블록문을 실행 단위로 본다. 블록문은 단독으로 쓸 수 있으나 보통 제어문이나 반복문을 작성할 때 사용한다.

블록문을 쓸 때 사용하는 중괄호는 그 자체로 종결성을 가지고 있기 때문에 끝에 세미콜론을 붙이지 않는다.

2. 조건문

조건문은 조건식에 따라 실행할 문을 결정하는 문이다. 조건식은 불리언 값으로 평가되야 한다. 자바스크립트의 조건문은 if...else문과 switch문이 있다.

- if...else문

조건문의 논리적 참, 거짓에 따라 실행문이 결정된다. 조건문이 참인 경우 if문을 실행하며 거짓인 경우 else문을 실행한다.

if문에 들어가는 조건문은 반드시 불리언 값이 나와야 한다. 만약 조건식의 결과의 데이터 타입이 불리언 값이 아닐 경우 불리언으로 암묵적 타입 변환을 한다.

조건을 여러 개 추가하고 싶을 경우 else if를 사용하면 된다.

하나의 if...else문에서 if와 else문을 두개 이상 사용할 수 없다. 다만 else if의 경우 여러 개를 사용할 수 있다.

if...else문을 사용할 때 코드 블록 내의 문이 하나라면 중괄호를 생략할 수 있다.

if...else문은 삼항 연산자로 바꾸어 표현할 수 있다. 조건에 따라 변수에 할당하는 값을 달리하고 싶으면 if...else문보단 삼항 연산자로 표현하는 것이 좋다. 왜냐하면 삼항 연산자는 표현식이고 if...else문은 표현식이 아닌 문이기 때문에 가독성면에서 삼항 연산자가 더 뛰어나다.

만약 여러 조건을 사용해야 할 경우 if...else 문이 더 좋다.

- switch 문

switch문은 주어진 값과 일치한 값을 case에서 찾아 그 아래에 있는 문들을 실행시키는 제어문이다. 만약 어느 case와의 값과도 맞지 않다면, default문을 실행한다. default문의 유무는 선택사항이다.

switch문은 if...else문과 다르게 논리적 참, 거짓보다는 숫자나 문자열에 따라 실행문이 결정된다. 

switch문에서는 **폴스루fall through**를 조심해야 한다. case문에 break를 넣어주지 않으면 해당 case밑에 있는 문까지 다 수행하기 때문이다.

하지만 break를 추가할 때 default는 일반적으로 추가하지 않는다. 이는 switch문의 가장 끝 단에 위치하기 때문이다.

폴스루가 나쁘게만 쓰이는 것은 아니다. 여러 케이스가 동일한 동작을 하는 경우에는 의도적으로 break문을 쓰지 않음으로써 코드를 간결하게 쓸 수 있다.

3. 반복문

반복문은 조건문이 참일 경우 반복문을 시작하여 조건문이 거짓이 될 때 종료한다. 자바스크립트에선 for문, while문, do...while문을 제공한다.

> 반복문을 대체할 수 있는 다양한 기능 
    배열을 순회할 때 forEach문, 객체의 프로퍼티를 열거할 때 for...in문, 이터러블을 순회할 수 있는 for...of문(ES6에서 추가)이 있다. 

- for 문

for문에서 괄호 안에 들어가는 부분은 크게 변수 선언문과 조건식, 증감식이 들어간다. 동작은 변수 선언(처음 한번만 수행한다.)->코드 블록->증감식->조건식의 순서이다.

선언문, 조건식, 증감식 모두 옵션이다. 다만 모든 영역이 비어있으면 무한 루프이다. for문은 중첩하여 사용할 수 있다.

- while문

while문은 조건식의 결과가 참인 동안 계속 코드 블록을 반복한다. 반복 횟수가 명확한 경우 for문을 사용하고, 불명확한 경우엔 while문을 사용한다.

while문의 조건식의 평가 결과가 불리언 값이 아니라면 암묵적 타입 변환을 한다. 조건식을 쓰지 않은 경우 while문은 무한 루프에 빠지며 이땐 조건문과 break를 통해 탈출 조건을 명시해야한다.

- do...while 문

do...while문은 코드 블록을 먼저 실행하고 조건식의 참, 거짓 유무를 판별한다. 따라서 적어도 한 번은 코드 블록을 실행한다.

4. break 문

레이블 문, 반복문 또는 switch문의 코드 블록을 탈출할 때 쓰이며, 이 외에 사용하는 경우 문법 에러가 발생한다.

레이블 문은 프로그램 실행 순서를 제어하는 데 사용한다. switch문에 있는 case와 default문도 레이블문에 해당한다.

레이블 문의 경우 중첩된 for문에서 탈출하는 경우가 아니면 가독성을 해칠 위험이 있어 이외 사용을 권장하지 않는다.

break문은 반복문이나 switch문에서 추가로 드는 연산을 줄일 수 있다.

5. continue 문

continue문은 코드 블록 실행은 현 시점에서 중단하고 증감식으로 이동한다. 반복문을 탈출하지 않는 점이 break문과의 차이이다.

만약 for문 안에서 한 조건에 대한 실행문이 많은 경우 continue를 쓰면 들여쓰기의 깊이를 줄일 수 있다.